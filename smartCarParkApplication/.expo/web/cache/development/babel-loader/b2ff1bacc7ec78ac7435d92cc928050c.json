{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _FirebaseProvider = require(\"../../provider/FirebaseProvider\");\n\nvar _Ticket = _interopRequireDefault(require(\"../../components/Ticket\"));\n\nvar _style = require(\"./style\");\n\nvar _firestore = _interopRequireWildcard(require(\"@react-native-firebase/firestore\"));\n\nvar _auth = _interopRequireDefault(require(\"@react-native-firebase/auth\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _materialTopTabs = require(\"@react-navigation/material-top-tabs\");\n\nvar _this = this,\n    _jsxFileName = \"/Users/kuzeykose/Desktop/Smart Parking Systems/Application/smartCarParkApplication/src/scenes/HistoryTicket/index.js\";\n\nvar Tab = (0, _materialTopTabs.createMaterialTopTabNavigator)();\n\nvar Tickets = function Tickets() {\n  var value = (0, _react.useContext)(_FirebaseProvider.FirebaseContext);\n  var currentUserUid = (0, _auth.default)().currentUser.uid;\n\n  var _useState = (0, _react.useState)([]),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      bookedParkHistory = _useState2[0],\n      setBookedParkHistory = _useState2[1];\n\n  (0, _react.useEffect)(function () {\n    (0, _firestore.default)().collection('users').doc(\"\" + currentUserUid).collection('bookedParkHistory').get().then(function (snapShot) {\n      var myArray = [];\n      snapShot.forEach(function (doc) {\n        myArray.push(doc.data());\n      });\n      setBookedParkHistory(myArray);\n    });\n  }, []);\n  var allTickets = bookedParkHistory.map(function (inf, index) {\n    return _react.default.createElement(_Ticket.default, {\n      parkName: inf.parkName,\n      date: inf.checkInDate,\n      time: inf.checkInTime + \" - \" + inf.checkOutTime,\n      parkSlotName: inf.parkSlot,\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 12\n      }\n    });\n  });\n  return _react.default.createElement(_reactNative.ScrollView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, allTickets);\n};\n\nvar _default = Tickets;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kuzeykose/Desktop/Smart Parking Systems/Application/smartCarParkApplication/src/scenes/HistoryTicket/index.js"],"names":["Tab","Tickets","value","FirebaseContext","currentUserUid","currentUser","uid","bookedParkHistory","setBookedParkHistory","collection","doc","get","then","snapShot","myArray","forEach","push","data","allTickets","map","inf","index","parkName","checkInDate","checkInTime","checkOutTime","parkSlot"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;AAGA,IAAMA,GAAG,GAAG,qDAAZ;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpB,MAAMC,KAAK,GAAG,uBAAWC,iCAAX,CAAd;AACA,MAAMC,cAAc,GAAG,qBAAOC,WAAP,CAAmBC,GAA1C;;AAFoB,kBAG8B,qBAAS,EAAT,CAH9B;AAAA;AAAA,MAGbC,iBAHa;AAAA,MAGMC,oBAHN;;AAKpB,wBAAU,YAAM;AACd,8BAAYC,UAAZ,CAAuB,OAAvB,EAAgCC,GAAhC,MAAuCN,cAAvC,EAAyDK,UAAzD,CAAoE,mBAApE,EACGE,GADH,GAEGC,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChB,UAAIC,OAAO,GAAG,EAAd;AACAD,MAAAA,QAAQ,CAACE,OAAT,CAAiB,UAAAL,GAAG,EAAI;AACtBI,QAAAA,OAAO,CAACE,IAAR,CAAaN,GAAG,CAACO,IAAJ,EAAb;AACD,OAFD;AAGAT,MAAAA,oBAAoB,CAACM,OAAD,CAApB;AACD,KARH;AASD,GAVD,EAUG,EAVH;AAeA,MAAMI,UAAU,GAAGX,iBAAiB,CAACY,GAAlB,CAAsB,UAACC,GAAD,EAAMC,KAAN,EAAgB;AACvD,WAAO,6BAAC,eAAD;AACL,MAAA,QAAQ,EAAED,GAAG,CAACE,QADT;AAEL,MAAA,IAAI,EAAEF,GAAG,CAACG,WAFL;AAGL,MAAA,IAAI,EAAEH,GAAG,CAACI,WAAJ,GAAkB,KAAlB,GAA0BJ,GAAG,CAACK,YAH/B;AAIL,MAAA,YAAY,EAAEL,GAAG,CAACM,QAJb;AAKL,MAAA,GAAG,EAAEL,KALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAOD,GARkB,CAAnB;AAWA,SACE,6BAAC,uBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,UADH,CADF;AAKD,CApCD;;eAsCejB,O","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { FirebaseContext } from '../../provider/FirebaseProvider'\nimport Ticket from '../../components/Ticket'\nimport { Container } from './style'\nimport firestore, { firebase } from '@react-native-firebase/firestore';\nimport Auth from '@react-native-firebase/auth';\nimport { SafeAreaView, ScrollView } from 'react-native';\n\nimport { createMaterialTopTabNavigator } from '@react-navigation/material-top-tabs';\nimport { Component } from 'react';\n\nconst Tab = createMaterialTopTabNavigator();\n\nconst Tickets = () => {\n  const value = useContext(FirebaseContext);\n  const currentUserUid = Auth().currentUser.uid\n  const [bookedParkHistory, setBookedParkHistory] = useState([])\n\n  useEffect(() => {\n    firestore().collection('users').doc(`${currentUserUid}`).collection('bookedParkHistory')\n      .get()\n      .then(snapShot => {\n        let myArray = []\n        snapShot.forEach(doc => {\n          myArray.push(doc.data())\n        })\n        setBookedParkHistory(myArray)\n      })\n  }, [])\n\n\n\n\n  const allTickets = bookedParkHistory.map((inf, index) => {\n    return <Ticket\n      parkName={inf.parkName}\n      date={inf.checkInDate}\n      time={inf.checkInTime + \" - \" + inf.checkOutTime}\n      parkSlotName={inf.parkSlot}\n      key={index}\n    />\n  }\n  );\n\n  return (\n    <ScrollView>\n      {allTickets}\n    </ScrollView>\n  );\n};\n\nexport default Tickets;\n"]},"metadata":{},"sourceType":"script"}